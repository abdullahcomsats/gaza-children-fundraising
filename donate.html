<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donate Now - Hope for Gaza Children</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Feather Icons -->
    <link href="https://cdn.jsdelivr.net/npm/feather-icons@4.29.0/dist/feather.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top">
        <div class="container">
            <a class="navbar-brand fw-bold text-primary" href="index.html">
                <i data-feather="heart" class="me-2"></i>Hope for Gaza
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="impact.html">Impact</a>
                    </li>
                </ul>
                <a href="donate.html" class="btn btn-warning fw-bold px-4">
                    <i data-feather="heart" class="me-2"></i>Donate Now
                </a>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="py-5 bg-warning text-dark">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto text-center">
                    <h1 class="display-4 fw-bold mb-4">Make a Donation</h1>
                    <p class="lead">
                        Your contribution directly supports children in Gaza through verified humanitarian organizations.
                        Every donation makes a meaningful difference in a child's life.
                    </p>
                    

                </div>
            </div>
        </div>
    </section>

    <!-- Donation Progress -->
    <section class="py-4 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="card border-0 shadow-sm">
                        <div class="card-body p-4">
                            <div class="row align-items-center">
                                <div class="col-md-3 text-center">
                                    <div class="progress-circle" id="progressCircle">
                                        <svg width="120" height="120" class="mx-auto">
                                            <circle cx="60" cy="60" r="50" stroke="#e9ecef" stroke-width="8" fill="none"/>
                                            <circle cx="60" cy="60" r="50" stroke="#f97316" stroke-width="8" fill="none" 
                                                    stroke-dasharray="314" stroke-dashoffset="0" id="progress-circle"/>
                                        </svg>
                                        <div class="progress-text">
                                            <span class="percentage" id="progressPercentage">0%</span>
                                            <small class="d-block text-muted">of goal</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-9">
                                    <div class="row text-center">
                                        <div class="col-4">
                                            <h4 class="fw-bold text-primary mb-1" id="totalRaised">Â£0</h4>
                                            <small class="text-muted">Raised</small>
                                        </div>
                                        <div class="col-4">
                                            <h4 class="fw-bold text-success mb-1" id="donorCount">0</h4>
                                            <small class="text-muted">Donors</small>
                                        </div>
                                        <div class="col-4">
                                            <h4 class="fw-bold text-warning mb-1">$500</h4>
                                            <small class="text-muted">Goal</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Donation Form Section -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <!-- Donation Form -->
                <div class="col-lg-8">
                    <!-- Pre-Donation Questionnaire -->
                    <div class="card border-0 shadow mb-4" id="preDonationForm">
                        <div class="card-header bg-info text-white">
                            <h4 class="mb-0 fw-bold">
                                <i data-feather="clipboard" class="me-2"></i>Pre-Donation Questionnaire
                            </h4>
                        </div>
                        <div class="card-body p-4">
                            <p class="text-muted mb-3">Please complete this brief questionnaire. Completing it enables the donation button.</p>
                            <div class="question-errors"></div>
                            <div class="question-success mb-3"></div>

                            <!-- Step 1: Motivation and Emotional Connection -->
                            <div class="question-step" style="display:none">
                                <h5 class="fw-bold mb-3">Section 1: Motivation and Emotional Connection</h5>
                                <div class="mb-3">
                                    <label class="form-label">1. What inspired you personally to support the children of Gaza through this campaign?</label>
                                    <textarea class="form-control" rows="3" data-q-key="q1_motivation" data-required="true"></textarea>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">2. When you think of children affected by conflict, what feelings or thoughts come to mind?</label>
                                    <textarea class="form-control" rows="3" data-q-key="q2_emotions" data-required="true"></textarea>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">3. Have you supported similar humanitarian causes before?</label>
                                    <div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="q3_priorSupport" value="Yes" data-q-key="q3_priorSupport">
                                            <label class="form-check-label">Yes</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="q3_priorSupport" value="No" data-q-key="q3_priorSupport">
                                            <label class="form-check-label">No</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="q3_priorSupport" value="Prefer not to say" data-q-key="q3_priorSupport">
                                            <label class="form-check-label">I prefer not to say</label>
                                        </div>
                                    </div>
                                    <small class="text-muted">Optional</small>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">4. What about this specific campaign encouraged you to take action and contribute?</label>
                                    <textarea class="form-control" rows="3" data-q-key="q4_campaignResonance" data-required="true"></textarea>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">5. How important is it for you to know the direct impact of your donation?</label>
                                    <select class="form-select" data-q-key="q5_impactImportance" data-required="true">
                                        <option value="">Select importance level</option>
                                        <option value="1">1 - Not important</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5 - Extremely important</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Step 2: Reflection and Perspective -->
                            <div class="question-step" style="display:none">
                                <h5 class="fw-bold mb-3">Section 2: Reflection and Perspective</h5>
                                <div class="mb-3">
                                    <label class="form-label">6. In your opinion, what is the most urgent need for children in Gaza right now?</label>
                                    <select class="form-select" data-q-key="q6_urgentNeed" data-required="true">
                                        <option value="">Select an option</option>
                                        <option value="Food">Food</option>
                                        <option value="Shelter">Shelter</option>
                                        <option value="Education">Education</option>
                                        <option value="Medical aid">Medical aid</option>
                                        <option value="Psychological support">Psychological support</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">7. How do you feel your donation contributes to positive change for these children?</label>
                                    <textarea class="form-control" rows="3" data-q-key="q7_contributionChange" data-required="true"></textarea>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">8. What personal value or belief does your donation reflect?</label>
                                    <textarea class="form-control" rows="3" data-q-key="q8_personalValue" data-required="true"></textarea>
                                </div>
                            </div>

                            <!-- Step 3: Engagement and Future Involvement -->
                            <div class="question-step" style="display:none">
                                <h5 class="fw-bold mb-3">Section 3: Engagement and Future Involvement</h5>
                                <div class="mb-3">
                                    <label class="form-label">9. Would you be interested in staying informed about future initiatives?</label>
                                    <div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="q9_futureUpdates" value="Yes" data-q-key="q9_futureUpdates" data-required="true">
                                            <label class="form-check-label">Yes</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="q9_futureUpdates" value="No" data-q-key="q9_futureUpdates" data-required="true">
                                            <label class="form-check-label">No</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="q9_futureUpdates" value="Maybe" data-q-key="q9_futureUpdates" data-required="true">
                                            <label class="form-check-label">Maybe</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">10. What message or hope would you like to send to the children and families in Gaza?</label>
                                    <textarea class="form-control" rows="3" data-q-key="q10_messageHope" data-required="true"></textarea>
                                </div>
                            </div>

                            <div class="d-flex justify-content-between mt-3">
                                <button type="button" class="btn btn-outline-secondary" data-action="back">Back</button>
                                <div>
                                    <button type="button" class="btn btn-primary me-2" data-action="next">Next</button>
                                    <button type="button" class="btn btn-success" data-action="finish">Finish Questionnaire</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card border-0 shadow">
                        <div class="card-header bg-primary text-white">
                            <h4 class="mb-0 fw-bold">
                                <i data-feather="credit-card" class="me-2"></i>Secure Donation Form
                            </h4>
                        </div>
                        <div class="card-body p-4">
                            <!-- Quick Amount Selection -->
                            <div class="mb-4">
                                <h5 class="fw-bold mb-3">Select Amount</h5>
                                <div class="row g-2">
                                    <div class="col-6 col-md-3">
                                        <button type="button" class="btn btn-outline-primary w-100 quick-donate-btn" data-amount="1">$1</button>
                                    </div>
                                    <div class="col-6 col-md-3">
                                        <button type="button" class="btn btn-outline-primary w-100 quick-donate-btn" data-amount="5">$5</button>
                                    </div>
                                    <div class="col-6 col-md-3">
                                        <button type="button" class="btn btn-outline-primary w-100 quick-donate-btn" data-amount="10">$10</button>
                                    </div>
                                    <div class="col-6 col-md-3">
                                        <button type="button" class="btn btn-outline-primary w-100 quick-donate-btn" data-amount="15">$15</button>
                                    </div>
                                </div>
                            </div>

                            <!-- Donation Form -->
                            <form id="donationForm">
                                <div id="form-errors" class="mb-3"></div>

                                <!-- Amount -->
                                <div class="mb-3">
                                    <label for="donationAmount" class="form-label">Donation Amount (USD)</label>
                                    <input type="number" class="form-control" id="donationAmount" name="donationAmount" min="1" step="1" placeholder="Enter amount" required>
                                    <small class="text-muted">Tip: Use the quick buttons above or enter a custom amount.</small>
                                </div>

                                <!-- Personal Information -->
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="firstName" class="form-label">First Name</label>
                                        <input type="text" class="form-control" id="firstName" name="firstName" placeholder="John" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="lastName" class="form-label">Last Name</label>
                                        <input type="text" class="form-control" id="lastName" name="lastName" placeholder="Doe" required>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="email" class="form-label">Email</label>
                                        <input type="email" class="form-control" id="email" name="email" placeholder="you@example.com" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="country" class="form-label">Country</label>
                                        <select class="form-select" id="country" name="country" required>
                                            <option value="">Select country</option>
                                            <option value="United Kingdom">United Kingdom</option>
                                            <option value="United States">United States</option>
                                            <option value="Canada">Canada</option>
                                            <option value="Australia">Australia</option>
                                            <option value="Other">Other</option>
                                        </select>
                                    </div>
                                </div>

                                <!-- Payment Information (Mock) -->
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="cardholderName" class="form-label">Cardholder Name</label>
                                        <input type="text" class="form-control" id="cardholderName" name="cardholderName" placeholder="Name on card" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="cardNumber" class="form-label">Card Number</label>
                                        <input type="text" class="form-control" id="cardNumber" name="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19" inputmode="numeric" required>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="expiryDate" class="form-label">Expiry Date (MM/YY)</label>
                                        <input type="text" class="form-control" id="expiryDate" name="expiryDate" placeholder="MM/YY" maxlength="5" inputmode="numeric" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="cvc" class="form-label">CVC</label>
                                        <input type="text" class="form-control" id="cvc" name="cvc" placeholder="123" maxlength="4" inputmode="numeric" required>
                                    </div>
                                </div>

                                <!-- Optional Message -->
                                <div class="mb-3">
                                    <label for="message" class="form-label">Message (Optional)</label>
                                    <textarea class="form-control" id="message" name="message" rows="3" placeholder="Share a message of hope..."></textarea>
                                </div>

                                <!-- Submit -->
                                <div class="d-grid">
                                    <button type="submit" id="submitBtn" class="btn btn-primary btn-lg" disabled>
                                        <i data-feather="lock" class="me-2"></i>Donate Securely
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Donation Impact Sidebar -->
                <div class="col-lg-4">
                    <div class="card border-0 shadow mb-4">
                        <div class="card-header bg-success text-white">
                            <h5 class="mb-0 fw-bold">
                                <i data-feather="gift" class="me-2"></i>Your Impact
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="impact-item mb-3">
                                <div class="d-flex align-items-center">
                                    <div class="bg-primary rounded-circle p-2 me-3">
                                        <i data-feather="book" class="text-white" style="width: 16px; height: 16px;"></i>
                                    </div>
                                    <div>
                                        <strong>Â£10</strong> provides school supplies for one child for a month
                                    </div>
                                </div>
                            </div>
                            
                            <div class="impact-item mb-3">
                                <div class="d-flex align-items-center">
                                    <div class="bg-success rounded-circle p-2 me-3">
                                        <i data-feather="heart" class="text-white" style="width: 16px; height: 16px;"></i>
                                    </div>
                                    <div>
                                        <strong>Â£25</strong> covers medical supplies for emergency care
                                    </div>
                                </div>
                            </div>
                            
                            <div class="impact-item mb-3">
                                <div class="d-flex align-items-center">
                                    <div class="bg-warning rounded-circle p-2 me-3">
                                        <i data-feather="home" class="text-white" style="width: 16px; height: 16px;"></i>
                                    </div>
                                    <div>
                                        <strong>Â£50</strong> provides shelter materials for a family
                                    </div>
                                </div>
                            </div>
                            
                            <div class="impact-item">
                                <div class="d-flex align-items-center">
                                    <div class="bg-info rounded-circle p-2 me-3">
                                        <i data-feather="droplet" class="text-white" style="width: 16px; height: 16px;"></i>
                                    </div>
                                    <div>
                                        <strong>Â£100</strong> ensures clean water access for 10 children for a month
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Security Notice -->
                    <div class="card border-0 shadow">
                        <div class="card-body">
                            <h6 class="fw-bold mb-3">
                                <i data-feather="shield" class="me-2 text-success"></i>Security & Privacy
                            </h6>
                            <ul class="list-unstyled small">
                                <li class="mb-2">
                                    <i data-feather="check" class="text-success me-2" style="width: 16px; height: 16px;"></i>
                                    SSL encrypted data transmission
                                </li>
                                <li class="mb-2">
                                    <i data-feather="check" class="text-success me-2" style="width: 16px; height: 16px;"></i>
                                    No real financial transactions
                                </li>
                                <li class="mb-2">
                                    <i data-feather="check" class="text-success me-2" style="width: 16px; height: 16px;"></i>
                                    Academic project transparency
                                </li>
                                <li class="mb-0">
                                    <i data-feather="check" class="text-success me-2" style="width: 16px; height: 16px;"></i>
                                    Data used for evaluation only
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark text-white py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <h5 class="fw-bold mb-3">Hope for Gaza Children</h5>
                    <p class="mb-3">
                        A university fundraising project dedicated to supporting children in Gaza through 
                        transparent and respectful humanitarian aid.
                    </p>
                    <div class="alert alert-warning">
                        <small>
                            <i data-feather="info" class="me-2"></i>
                            <strong>Academic Project Disclaimer:</strong> This is a university project for the 
                            International Fundraising & Digital Campaign module. All donations are processed 
                            through secure channels and directed to legitimate humanitarian organizations.
                        </small>
                    </div>
                </div>
                <div class="col-lg-3">
                    <h6 class="fw-bold mb-3">Quick Links</h6>
                    <ul class="list-unstyled">
                        <li><a href="index.html" class="text-white-50 text-decoration-none">Home</a></li>
                        <li><a href="about.html" class="text-white-50 text-decoration-none">About</a></li>
                        <li><a href="donate.html" class="text-white-50 text-decoration-none">Donate</a></li>
                        <li><a href="impact.html" class="text-white-50 text-decoration-none">Impact</a></li>
                    </ul>
                </div>
                <div class="col-lg-3">
                    <h6 class="fw-bold mb-3">Contact</h6>
                    <p class="text-white-50 mb-1">University Project</p>
                    <p class="text-white-50 mb-1">International Fundraising Module</p>
                    <p class="text-white-50">Ms. Saleena Gul - Course Instructor</p>
                </div>
            </div>
            <hr class="my-4">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="mb-0 text-white-50">&copy; 2025 Hope for Gaza Children - University Project</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <small class="text-white-50">
                        <i data-feather="shield" class="me-1"></i>
                        Secure & Transparent Fundraising
                    </small>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Feather Icons -->
    <script src="https://cdn.jsdelivr.net/npm/feather-icons@4.29.0/dist/feather.min.js"></script>
    <!-- Env & Supabase -->
    <script src="config.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Custom JS -->
    <script src="script.js"></script>
    
    <script>
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            feather.replace();
            updateDonationProgress();
            
            // Pre-fill amount if coming from quick donate
            const urlParams = new URLSearchParams(window.location.search);
            const amount = urlParams.get('amount');
            if (amount) {
                document.getElementById('donationAmount').value = amount;
                // Highlight the corresponding quick donate button
                document.querySelectorAll('.quick-donate-btn').forEach(btn => {
                    if (btn.dataset.amount === amount) {
                        btn.classList.remove('btn-outline-primary');
                        btn.classList.add('btn-primary');
                    }
                });
            }
            
            // Add click handlers for quick donate buttons on this page
            document.querySelectorAll('.quick-donate-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const selectedAmount = this.getAttribute('data-amount');
                    
                    // Update the donation amount input
                    document.getElementById('donationAmount').value = selectedAmount;
                    
                    // Update button styles
                    document.querySelectorAll('.quick-donate-btn').forEach(btn => {
                        btn.classList.remove('btn-primary');
                        btn.classList.add('btn-outline-primary');
                    });
                    
                    // Highlight the selected button
                    this.classList.remove('btn-outline-primary');
                    this.classList.add('btn-primary');
                });
            });
        });
    </script>

    <!-- Donation Success Popup Modal -->
    <div id="donationSuccessModal" class="donation-success-overlay" style="display: none;">
        <div class="donation-success-popup">
            <div class="donation-success-icon">
                <i data-feather="check-circle"></i>
            </div>
            <h2 class="donation-success-title">Thank You!</h2>
            <p class="donation-success-message">Your generous donation has been received and will make a real difference in the lives of Gaza children.</p>
            <div class="donation-success-amount">
                <span>Donation Amount: </span>
                <strong id="donationAmount">$0</strong>
            </div>
            <div class="donation-success-buttons">
                <button class="btn btn-primary" onclick="closeDonationModal()">Continue</button>
                <button class="btn btn-outline-primary" onclick="shareOnSocial()">Share</button>
            </div>
        </div>
    </div>
</body>
</html>